(this["webpackJsonpclient-from-everywhere"]=this["webpackJsonpclient-from-everywhere"]||[]).push([[0],{147:function(e,t,n){},177:function(e,t,n){},194:function(e,t,n){},215:function(e,t,n){},222:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n.n(a),s=n(42),l=n.n(s),o=(n(177),n(21)),r=n(94),d=n(95),j=n(119),b=n(114),h=n(14),m=n(9),x=n.n(m),u=(n(194),"https://from-everywhere.herokuapp.com/api"),O=n(87),g=n(12),_=n(8),p=n(127),f=(n(212),n(215),function(e){var t,n=e.loggedInUser,i=e.onLogOut,s=Object(a.useState)(!1),l=Object(g.a)(s,2),o=l[0],r=l[1],d=function(){o||(r(!0),console.log(o))},j=function(){o&&(r(!1),console.log(o))};return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsxs)(p.stack,{right:!0,children:[Object(c.jsx)("p",{className:"menu-item",children:"Search"}),Object(c.jsx)(_.b,{to:"/home",className:"menu-item",onClick:function(){d(),j()},children:"Home"}),Object(c.jsx)(_.b,{to:"/user/".concat(n._id),className:"menu-item",onClick:function(){d(),j()},children:"Account"}),Object(c.jsx)(_.b,{to:"/inbox/".concat(n._id),className:"menu-item",onClick:function(){d(),j()},children:"Inbox"}),Object(c.jsx)("button",(t={onClick:i,className:"menu-item"},Object(O.a)(t,"onClick",(function(){d(),j()})),Object(O.a)(t,"children","Logout"),t))]}):Object(c.jsxs)(p.stack,{right:!0,isOpen:o,children:[Object(c.jsx)(_.b,{to:"/",className:"menu-item",onClick:j,children:"Home"}),Object(c.jsx)(_.b,{to:"/sign-up",className:"menu-item",onClick:function(){d(),j()},children:"Signup"}),Object(c.jsx)(_.b,{to:"/sign-in",className:"menu-item",onClick:function(){d(),j()},children:"Signin"})]})})}),v=n(78),C=n.n(v),N=n(245),y=n(254),k=n(249),w=n(231),I=n(43),S=n(253),U=(n(86),function(e){var t=e.onSignUp,n=e.onUnmount,i=e.errorMessage,s=Object(a.useState)(void 0),l=Object(g.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(void 0),j=Object(g.a)(d,2),b=j[0],h=j[1],m=Object(a.useRef)(C.a.debounce((function(e){!function(e){x.a.post("".concat(u,"/input-check/user"),{username:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isUser":r("isUser");break;default:console.log("Available")}}))}(e)}),1e3)),O=Object(a.useRef)(C.a.debounce((function(e){!function(e){console.log(e),x.a.post("".concat(u,"/input-check/email"),{email:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isEmail":h("isEmail");break;default:console.log("Available")}}))}(e)}),1e3));return Object(a.useEffect)((function(){o&&(r(o),m.current(o))}),[o]),Object(a.useEffect)((function(){b&&(h(b),O.current(b))}),[b]),Object(a.useEffect)((function(){return n}),[]),console.log(o,b),Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(N.a,{text:!0,children:Object(c.jsx)(y.a,{container:!0,children:Object(c.jsx)(y.a.Column,{children:Object(c.jsxs)(k.a,{onSubmit:t,className:"form__form",children:[Object(c.jsxs)(k.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{type:"text",name:"username",onChange:function(e){return r(e.target.value.toLowerCase())}})]}),""==o||void 0==o?"":"isUser"==o?Object(c.jsx)("p",{className:"form__alert",children:"Username is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Username available!"}),Object(c.jsxs)(k.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",onChange:function(e){return h(e.target.value.toLowerCase())}})]}),""==b||void 0==b?"":"isEmail"==b?Object(c.jsx)("p",{className:"form__alert",children:"Email is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Email available!"}),Object(c.jsxs)(k.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password"})]}),Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"sign-in"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Sign up"})]}),i?Object(c.jsxs)(S.a,{negative:!0,children:[Object(c.jsx)(S.a.Header,{children:i}),Object(c.jsx)("p",{children:"Please try again."})]}):null]})})})})})}),B=function(e){var t=e.onSignIn,n=e.onUnmount,i=e.onChange,s=e.errorMessage,l=e.onTest;return Object(a.useEffect)((function(){return n}),[]),Object(c.jsx)("div",{className:"form__container",children:Object(c.jsxs)(N.a,{text:!0,children:[Object(c.jsx)(y.a,{container:!0,children:Object(c.jsxs)(y.a.Column,{children:[Object(c.jsxs)(k.a,{onSubmit:t,className:"form__form",children:[Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",onChange:i})]}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",onChange:i})]}),Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"sign-in"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Sign in"})]}),s?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(S.a,{negative:!0,children:[Object(c.jsx)(S.a.Header,{children:s}),Object(c.jsx)("p",{children:"Please try again."})]})}):null]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsxs)(w.a,{className:"form__button ",animated:!0,onClick:l,color:"linkedin",children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"wrench"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Test Mode"})]})})]})}),Object(c.jsx)("div",{className:"form__right",children:Object(c.jsx)(_.b,{to:"/sign-up",children:"Sign up?"})})]})})},F=n(157),D=n.n(F),E=(n(221),n(222),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"onLeave",value:function(e,t,n){console.log("Leaving section "+e.index)}},{key:"afterLoad",value:function(e,t,n){console.log("After load: "+t.index)}},{key:"render",value:function(){return Object(c.jsx)(D.a,{scrollOverflow:!0,sectionsColor:["white","white","white"],onLeave:this.onLeave.bind(this),afterLoad:this.afterLoad.bind(this),render:function(e){e.state,e.fullpageApi;return Object(c.jsxs)("div",{id:"fullpage-wrapper",children:[Object(c.jsx)("div",{className:"section section1",children:Object(c.jsx)(N.a,{children:Object(c.jsxs)("div",{className:"sec1__container",children:[Object(c.jsx)("h1",{children:"from everywhere"}),Object(c.jsxs)("div",{className:"sec1__content",children:[Object(c.jsxs)(y.a,{columns:2,container:!0,doubling:!0,stackable:!0,children:[Object(c.jsx)(y.a.Column,{width:10,style:{display:"flex",alignItems:"center"},children:Object(c.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facere, quis dicta ipsa ipsam omnis nesciunt impedit quidem quibusdam est nemo? Natus, vel! Accusantium rerum quaerat voluptate quo, quos porro aperiam!"})}),Object(c.jsx)(y.a.Column,{width:3,children:Object(c.jsx)("img",{src:"https://res.cloudinary.com/djct87vbj/image/upload/v1605094483/original_cb6fc0b556c5151ccb1480c27f96a81c_wcreh2.jpg",alt:"landing__img01"})})]}),Object(c.jsx)("p",{className:"sec1__content__mb",children:"You can start from everywhere."})]})]})})}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(N.a,{children:Object(c.jsx)("div",{className:"sec2__container",children:Object(c.jsxs)("div",{className:"sec2__content",children:[Object(c.jsxs)(y.a,{columns:2,container:!0,doubling:!0,stackable:!0,children:[Object(c.jsx)(y.a.Column,{width:9,children:Object(c.jsx)("img",{src:"https://res.cloudinary.com/djct87vbj/image/upload/v1605097867/Snapseed_mewpfq.jpg",alt:"landing__img01"})}),Object(c.jsxs)(y.a.Column,{width:7,style:{display:"flex",flexDirection:"column",paddingTop:"100px"},id:"sec2__content__adjust",children:[Object(c.jsxs)("h2",{children:["Your thing may help others, ",Object(c.jsx)("br",{}),"you may also be helped by others."]}),Object(c.jsxs)("p",{children:['from everywhere is inspired by a Japanese folk tale called "The straw millionaire". ',Object(c.jsx)("br",{}),"Post your item that is not to be used anymore, and exchange it with others. ",Object(c.jsx)("br",{}),"Keep exchanging, you may get something you have never expected in the end."]})]})]}),Object(c.jsxs)("div",{className:"sec2__content__mb",children:[Object(c.jsxs)("h2",{children:["Your thing may help others, ",Object(c.jsx)("br",{}),"you may also be helped by others."]}),Object(c.jsxs)("p",{children:['from everywhere is inspired by a Japanese folk tale called "The straw millionaire". ',Object(c.jsx)("br",{}),"Post your item that is not to be used anymore, and exchange it with others. ",Object(c.jsx)("br",{}),"Keep exchanging, you may get something you have never expected in the end."]}),Object(c.jsx)("img",{src:"https://res.cloudinary.com/djct87vbj/image/upload/v1605097867/Snapseed_mewpfq.jpg",alt:"landing__img01",className:"sec2__content__mb"})]})]})})})}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(N.a,{children:Object(c.jsxs)(y.a,{centered:!0,columns:1,children:[Object(c.jsx)("div",{className:"sec3__container"}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__02.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Upload your item"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__03.svg",alt:"landing__img01",style:{height:"300px"}}),Object(c.jsx)("h3",{children:"Find item"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__04.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Send Message"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__05.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Matching"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__06.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Wait for the item"})]})]})})}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(N.a,{children:Object(c.jsx)("div",{className:"sec4__container",children:Object(c.jsx)("div",{className:"sec4__content",children:Object(c.jsxs)(y.a,{columns:1,container:!0,doubling:!0,centered:!0,children:[Object(c.jsx)(y.a.Column,{textAlign:"center",children:Object(c.jsx)("h1",{children:"Start from everywhere"})}),Object(c.jsxs)("div",{className:"sec4__btns",children:[Object(c.jsx)(_.b,{to:"/sign-up",children:Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"sign-in"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Sign up"})]})}),Object(c.jsx)(_.b,{to:"/sign-in",children:Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"sign-in"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Sign ip"})]})})]})]})})})})})]})}})}}]),n}(i.a.Component)),M=n(255),P=n(248),L=n(250),A=(n(147),function(e){var t=e.loggedInUser,n=e.onGoBack,i=(e.onUpdate,Object(a.useState)(null)),s=Object(g.a)(i,2),l=s[0],o=s[1];Object(a.useEffect)((function(){x.a.get("".concat(u,"/user/").concat(t._id),{withCredentials:!0}).then((function(e){o(e.data)}))}),[]);var r={backgroundImage:l&&l.imageBg?"url(".concat(l.imageBg,")"):t.imageBg};return Object(c.jsx)("div",{children:l?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{style:{marginTop:"30px"},children:Object(c.jsx)("div",{className:"profile__bg",style:r,children:Object(c.jsx)(y.a,{container:!0,columns:1,stackable:!0,textAlign:"center",children:Object(c.jsxs)("div",{className:"profile__top",children:[Object(c.jsx)("img",{src:l.imageProfile,alt:"profile-image",className:"profile__photo"}),Object(c.jsx)(M.a,{as:"h1",className:"profile__top__header",children:l.username})]})})})}),Object(c.jsxs)(N.a,{text:!0,children:[l.location?Object(c.jsxs)(y.a,{children:[Object(c.jsx)(y.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(I.a,{name:"map marker alternate"}),l.location]})}),Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(_.b,{to:"/user/edit",children:"Edit"})})]}):Object(c.jsxs)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:[Object(c.jsx)(y.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(I.a,{name:"map marker alternate"}),Object(c.jsx)("span",{children:"No location provided"})]})}),Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(_.b,{to:"/user/edit",children:"Edit"})})]}),Object(c.jsx)("p",{className:"itemDetail__description",children:l.bio}),Object(c.jsx)(N.a,{children:Object(c.jsx)(P.a,{})}),Object(c.jsx)("div",{className:"profile__item",children:l.item?Object(c.jsx)("div",{children:l&&l.item.accepted?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{children:"Have you received the item?"}),Object(c.jsx)(_.b,{to:"/upload-item",children:Object(c.jsx)("button",{onClick:function(){x.a.post("".concat(u,"/user/").concat(t._id,"/update-status"),{},{withCredentials:!0}).then((function(e){console.log(e.data)}))},children:"Yes!"})})]}):Object(c.jsx)(y.a,{columns:1,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsx)(y.a.Row,{children:Object(c.jsx)(L.a.Group,{divided:!0,children:Object(c.jsxs)(L.a,{children:[Object(c.jsx)(L.a.Image,{src:l.item.image,as:_.b,to:"/item/".concat(l.item._id)}),Object(c.jsxs)(L.a.Content,{children:[Object(c.jsx)(L.a.Header,{as:_.b,to:"/item/".concat(l.item._id),children:l.item.name}),Object(c.jsx)(L.a.Meta,{children:Object(c.jsx)(_.b,{to:"/upload-item",children:"Edit"})}),Object(c.jsx)(L.a.Description,{children:l.item.description})]})]})})})})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{children:"Please upload your item"}),Object(c.jsx)(_.b,{to:"/upload-item",children:"Upload"})]})})]}),Object(c.jsx)(y.a,{columns:1,ui:!0,centered:!0,grid:!0,stackable:!0,children:Object(c.jsx)(y.a.Row,{children:Object(c.jsxs)("div",{className:"itemDetail__btn profile__btn__container",children:[Object(c.jsx)(_.b,{to:"/inbox",children:Object(c.jsxs)(w.a,{className:"profile__inbox goback",animated:!0,secondary:!0,style:{marginBottom:"10px"},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"mail outline large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Inbox"})]})}),Object(c.jsxs)(w.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){n()},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"hand point left outline large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Go Back"})]})]})})})]}):Object(c.jsx)("p",{children:"Loading"})})}),G=function(e){var t=e.loggedInUser,n=e.match,i=e.onGoBack,s=Object(a.useState)(null),l=Object(g.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(!1),j=Object(g.a)(d,2),b=j[0],m=j[1],O=n.params.userId;Object(a.useEffect)((function(){x.a.get("".concat(u,"/user/").concat(O)).then((function(e){r(e.data),console.log(e.data.item),e.data.item.hi&&e.data.item.hi.includes(t._id)&&m(!0)}))}),[]);var p=b?Object(c.jsx)("p",{className:"form__available",children:"Successfully sent"}):Object(c.jsx)("div",{className:"userPublic__btn__container",children:Object(c.jsxs)(w.a,{className:"profile__inbox goback ",animated:!0,secondary:!0,onClick:function(){!function(e){console.log(e),x.a.post("".concat(u,"/send-hi/").concat(e),{},{withCredentials:!0}).then((function(e){console.log("This is send hi",e.data),m(!0)})).catch((function(e){console.log(e)}))}(O)},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"send large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Send Hi"})]})}),f={backgroundImage:o&&o.imageBg?"url(".concat(o.imageBg,")"):t.imageBg};return Object(c.jsx)("div",{children:o?o._id==t._id?Object(c.jsx)(h.a,{to:"/user/".concat(o._id)}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{style:{marginTop:"30px"},children:Object(c.jsx)("div",{className:"profile__bg ",style:f,children:Object(c.jsx)("div",{className:"profile__bg ",children:Object(c.jsx)(y.a,{container:!0,columns:1,stackable:!0,textAlign:"center",children:Object(c.jsxs)("div",{className:"profile__top",children:[Object(c.jsx)("img",{src:o.imageProfile,alt:"profile-image",className:"profile__photo"}),Object(c.jsx)(M.a,{as:"h1",className:"profile__top__header",children:o.username})]})})})})}),Object(c.jsxs)(N.a,{text:!0,children:[o.location?Object(c.jsx)(y.a,{children:Object(c.jsx)(y.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(I.a,{name:"map marker alternate"}),o.location]})})}):Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(y.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(I.a,{name:"map marker alternate"}),Object(c.jsx)("span",{children:"No location provided"})]})})}),Object(c.jsx)("p",{className:"itemDetail__description",children:o.bio}),Object(c.jsx)(N.a,{children:Object(c.jsx)(P.a,{})}),Object(c.jsx)("div",{children:o.item?Object(c.jsx)(y.a,{columns:1,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsx)(y.a.Row,{children:Object(c.jsx)(L.a.Group,{divided:!0,children:Object(c.jsxs)(L.a,{children:[Object(c.jsx)(L.a.Image,{src:o.item.image,as:_.b,to:"/item/".concat(o.item._id)}),Object(c.jsxs)(L.a.Content,{children:[Object(c.jsx)(L.a.Header,{as:_.b,to:"/item/".concat(o.item._id),children:o.item.name}),Object(c.jsx)(L.a.Description,{children:o.item.description})]})]})})})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("p",{children:"There's no item uploaded yet..."})})})]}),Object(c.jsx)(N.a,{children:Object(c.jsx)(y.a,{columns:1,ui:!0,centered:!0,grid:!0,stackable:!0,children:Object(c.jsx)(y.a.Row,{children:Object(c.jsxs)("div",{className:"itemDetail__btn profile__btn__container",children:[o.item.accepted?Object(c.jsx)("p",{className:"form__alert",children:"Sorry the item no longer available..."}):p,Object(c.jsxs)(w.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){i()},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"hand point left outline large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Go Back"})]})]})})})})]}):Object(c.jsx)("p",{children:"Loading"})})},T=n(247),q=n(246),H=function(e){var t=e.onEditProfile,n=e.loggedInUser;return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(N.a,{text:!0,children:Object(c.jsx)(y.a,{container:!0,children:Object(c.jsxs)(y.a.Column,{children:[Object(c.jsxs)(k.a,{onSubmit:t,className:"form__form",children:[Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Bio"}),Object(c.jsx)(T.a,{type:"text",name:"bio"})]}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Location"}),Object(c.jsx)("input",{type:"text",name:"location"})]}),Object(c.jsxs)(y.a,{container:!0,columns:2,stackable:!0,children:[Object(c.jsx)(y.a.Column,{children:Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Profile Image"}),Object(c.jsx)(q.a,{type:"file",name:"imageProfile"})]})}),Object(c.jsx)(y.a.Column,{children:Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Background Image"}),Object(c.jsx)(q.a,{type:"file",name:"imageBg"})]})})]}),Object(c.jsx)("div",{className:"itemDetail__btn profile__btn__container",children:Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"edit outline"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Proceed"})]})})]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsx)(_.b,{to:"/user/".concat(n),style:{width:"100%"},children:Object(c.jsxs)(w.a,{className:"form__button ",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"forward "})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Skip for now"})]})})})]})})})})})},R=function(e){var t=e.onEditProfile,n=e.loggedInUser,i=e.onUnmount,s=e.onGoBack,l=Object(a.useState)(void 0),o=Object(g.a)(l,2),r=o[0],d=o[1],j=Object(a.useState)(void 0),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(a.useRef)(C.a.debounce((function(e){!function(e){x.a.post("".concat(u,"/input-check/edit-user"),{username:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isUser":d("isUser");break;default:console.log("Available")}}))}(e)}),1e3)),_=Object(a.useRef)(C.a.debounce((function(e){!function(e){console.log(e),x.a.post("".concat(u,"/input-check/edit-email"),{email:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isEmail":m("isEmail");break;default:console.log("Available")}}))}(e)}),1e3));return Object(a.useEffect)((function(){r&&(d(r),O.current(r))}),[r]),Object(a.useEffect)((function(){h&&(m(h),_.current(h))}),[h]),Object(a.useEffect)((function(){return i}),[]),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(N.a,{text:!0,children:Object(c.jsx)(y.a,{container:!0,children:Object(c.jsxs)(y.a.Column,{children:[Object(c.jsxs)(k.a,{onSubmit:t,className:"form__form",children:[Object(c.jsxs)(k.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{type:"text",name:"username",defaultValue:n.username,onChange:function(e){return d(e.target.value.toLowerCase())}})]}),""==r||void 0==r?"":"isUser"==r?Object(c.jsx)("p",{className:"form__alert",children:"Username is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Username available!"}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",defaultValue:n.email,onChange:function(e){return m(e.target.value.toLowerCase())}})]}),""==h||void 0==h?"":"isEmail"==h?Object(c.jsx)("p",{className:"form__alert",children:"Email is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Email available!"}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Bio"}),Object(c.jsx)(T.a,{type:"text",name:"bio",defaultValue:n.bio})]}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Location"}),Object(c.jsx)("input",{type:"text",name:"location",defaultValue:n.location})]}),Object(c.jsxs)(y.a,{container:!0,columns:2,stackable:!0,children:[Object(c.jsx)(y.a.Column,{children:Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Profile Image"}),Object(c.jsx)(q.a,{type:"file",name:"imageProfile"})]})}),Object(c.jsx)(y.a.Column,{children:Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Background Image"}),Object(c.jsx)(q.a,{type:"file",name:"imageBg"})]})})]}),Object(c.jsx)("div",{className:"itemDetail__btn profile__btn__container",children:Object(c.jsxs)(w.a,{className:"form__button goback ",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"edit outline"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Update"})]})})]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsxs)(w.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){s()},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"hand point left outline large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Go Back"})]})})]})})})})})},V=function(e){var t=e.loggedInUser,n=e.onCreateItem,a=e.onEditItem,i=e.onDeleteItem,s=e.onGoBack;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(N.a,{text:!0,children:Object(c.jsx)(y.a,{container:!0,children:Object(c.jsxs)(y.a.Column,{children:[Object(c.jsxs)(k.a,{onSubmit:t.item?a:n,className:"form__form",children:[Object(c.jsxs)(k.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Item Name"}),Object(c.jsx)("input",{type:"text",name:"name",defaultValue:t.item?t.item.name:null})]}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Description"}),Object(c.jsx)(T.a,{type:"text",name:"description",defaultValue:t.item?t.item.description:null})]}),Object(c.jsx)("label",{children:"Condition"}),Object(c.jsxs)(k.a.Field,{placeholder:"Select item's condition",control:"select",name:"condition",children:[Object(c.jsx)("option",{value:"Very good",children:"Very good"}),Object(c.jsx)("option",{value:"Normal",children:"Normal"}),Object(c.jsx)("option",{value:"So so",children:"So so"}),Object(c.jsx)("option",{value:"Damaged",children:"Damaged"})]}),Object(c.jsxs)(k.a.Field,{children:[Object(c.jsx)("label",{children:"Item Image"}),Object(c.jsx)(q.a,{type:"file",name:"image"})]}),Object(c.jsx)("div",{className:"itemDetail__btn profile__btn__container",children:Object(c.jsxs)(w.a,{className:"form__button goback ",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"edit outline"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Update"})]})})]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsxs)(w.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){s()},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"hand point left outline large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Go Back"})]})})]})})})}),t.item?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("button",{onClick:function(){i(t.item._id)},children:Object(c.jsx)("p",{children:"Delete"})})}):null,Object(c.jsx)(_.b,{to:"/user/".concat(t),children:"X"})]})},Q=n(158),W=(n(91),function(e){var t=e.items,n=Object(a.useState)([]),i=Object(g.a)(n,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){for(var e,n,c=[],a=0;a<3;a++)c.push(t[(e=t.length-1,n=0,Math.floor(Math.random()*(e-n+1)+n))]);l(c)}),[]),Object(c.jsx)(c.Fragment,{children:t.length?Object(c.jsx)(Q.Carousel,{showArrows:!0,showStatus:!1,showThumbs:!1,thumbWidth:!1,infiniteLoop:!0,autoPlay:!0,children:s.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)(_.b,{to:"item/".concat(e._id),children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:e.image,alt:"random__item",className:"random__image"})}),Object(c.jsx)("p",{className:"legend",id:"random__text",children:e.name})]},e._id)})}))}):Object(c.jsx)("p",{children:"There's no item uploaded yet"})})}),Y=n(252),z=function(e){var t=e.items,n=Object(a.useState)([]),i=Object(g.a)(n,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){var e=t.sort((function(e,t){return e.updatedAt-t.updatedAt}));t.length>7?l(e.slice(0,6)):l(e)}),[]),Object(c.jsx)(c.Fragment,{children:t.length?Object(c.jsx)("div",{className:"items__container",children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(y.a,{columns:2,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsxs)(y.a.Row,{children:[Object(c.jsx)(y.a.Column,{floated:"left",width:5,textAlign:"center",children:Object(c.jsx)("h1",{children:"Latest Items"})}),Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(_.b,{to:"/item-list",children:Object(c.jsx)(I.a,{name:"ellipsis horizontal large"})})})]})}),Object(c.jsx)(y.a,{container:!0,columns:3,doubling:!0,stackable:!0,children:s.map((function(e){return Object(c.jsx)(y.a.Column,{className:"latest__grid",as:_.b,to:"item/".concat(e._id),children:Object(c.jsxs)(Y.a,{children:[Object(c.jsx)("img",{src:e.image,style:{width:"100%",height:"200px",objectFit:"cover"}}),Object(c.jsxs)(Y.a.Content,{children:[Object(c.jsx)(Y.a.Header,{children:e.name.length>=20?e.name.slice(0,20)+"...":e.name}),Object(c.jsx)(Y.a.Meta,{children:e.user.username}),Object(c.jsx)(Y.a.Description,{children:e.description.length>=70?e.description.slice(0,70)+"...":e.description})]}),Object(c.jsx)(Y.a.Content,{extra:!0,children:Object(c.jsx)(_.b,{to:"item/".concat(e._id),children:"Read more"})})]},e._id)})}))})]})}):Object(c.jsx)("p",{children:"There's no item uploaded yet"})})},J=n(159),K=function(e){var t=e.loggedInUser,n=e.items,i=Object(a.useState)([]),s=Object(g.a)(i,2),l=s[0],o=s[1];return Object(a.useEffect)((function(){var e=n.filter((function(e){return t.location==e.user.location}));n.length>4?o(e.slice(0,4)):o(e)}),[]),Object(c.jsx)(c.Fragment,{children:n.length?Object(c.jsxs)("div",{children:[Object(c.jsx)(N.a,{className:"location__header__container",children:Object(c.jsx)("h1",{className:"location__header",children:"Near to your place"})}),Object(c.jsx)(N.a,{text:!0,children:Object(c.jsx)(y.a,{columns:1,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsx)(y.a.Row,{children:Object(c.jsx)(L.a.Group,{divided:!0,children:l.map((function(e,t){return Object(c.jsx)(c.Fragment,{children:t%2?Object(c.jsxs)(L.a,{children:[Object(c.jsxs)(L.a.Content,{children:[Object(c.jsx)(L.a.Header,{as:_.b,to:"item/".concat(e._id),children:e.name}),Object(c.jsx)(L.a.Meta,{children:Object(c.jsx)("span",{children:e.user.location})}),Object(c.jsx)(L.a.Description,{children:e.description}),Object(c.jsx)(L.a.Extra,{children:Object(c.jsxs)(_.b,{to:"/public/".concat(e.user._id),children:[Object(c.jsx)(J.a,{avatar:!0,circular:!0,src:e.user.imageProfile}),e.user.username]})})]}),Object(c.jsx)(L.a.Image,{src:e.image,as:_.b,to:"item/".concat(e._id)})]}):Object(c.jsxs)(L.a,{children:[Object(c.jsx)(L.a.Image,{src:e.image,as:_.b,to:"item/".concat(e._id)}),Object(c.jsxs)(L.a.Content,{children:[Object(c.jsx)(L.a.Header,{as:_.b,to:"item/".concat(e._id),children:e.name}),Object(c.jsx)(L.a.Meta,{children:Object(c.jsx)("span",{children:e.user.location})}),Object(c.jsx)(L.a.Description,{children:e.description}),Object(c.jsx)(L.a.Extra,{children:Object(c.jsxs)(_.b,{to:"/public/".concat(e.user._id),children:[Object(c.jsx)(J.a,{avatar:!0,circular:!0,src:e.user.imageProfile}),e.user.username]})})]})]})})}))})})})})]}):Object(c.jsx)("p",{children:"There's no item uploaded yet"})})},X=function(e){var t=e.loggedInUser,n=e.items;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{children:Object(c.jsx)(W,{items:n})}),Object(c.jsx)("div",{children:Object(c.jsx)(z,{items:n})}),Object(c.jsx)(N.a,{children:Object(c.jsx)(P.a,{})}),Object(c.jsx)(N.a,{children:Object(c.jsx)(K,{items:n,loggedInUser:t})})]})},Z=function(e){var t=e.onQuickSearch,n=e.onSearch;return Object(c.jsx)(y.a,{container:!0,columns:1,relaxed:!0,stackable:!0,children:Object(c.jsx)(y.a.Column,{children:Object(c.jsx)("form",{onSubmit:n,children:Object(c.jsx)(q.a,{name:"keyWord",type:"text",placeholder:"Search",onChange:t,icon:{name:"search",circular:!0,link:!0,type:"submit"}})})})})},$=function(e){var t=e.items,n=e.onQuickSearch,a=e.onSearch;return Object(c.jsxs)(N.a,{className:"itemList__container",children:[Object(c.jsx)(y.a,{columns:2,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsxs)(y.a.Row,{children:[Object(c.jsx)(y.a.Column,{floated:"left",width:5,textAlign:"center",children:Object(c.jsx)("h1",{children:"All Items"})}),Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(Z,{onQuickSearch:n,onSearch:a})})]})}),Object(c.jsx)(y.a,{container:!0,columns:3,doubling:!0,stackable:!0,children:t.map((function(e){return Object(c.jsx)(y.a.Column,{className:"latest__grid",as:_.b,to:"item/".concat(e._id),children:Object(c.jsxs)(Y.a,{children:[Object(c.jsx)("img",{src:e.image,style:{width:"100%",height:"200px",objectFit:"cover"}}),Object(c.jsxs)(Y.a.Content,{children:[Object(c.jsx)(Y.a.Header,{children:e.name.length>=20?e.name.slice(0,20)+"...":e.name}),Object(c.jsx)(Y.a.Meta,{children:e.user.username}),Object(c.jsx)(Y.a.Description,{children:e.description.length>=70?e.description.slice(0,70)+"...":e.description})]}),Object(c.jsx)(Y.a.Content,{extra:!0,children:Object(c.jsx)(_.b,{to:"item/".concat(e._id),children:"Read more"})})]},e._id)})}))})]})},ee=function(e){var t=e.onGoBack,n=Object(a.useState)(null),i=Object(g.a)(n,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){var t=e.match.params.itemId;x.a.get("".concat(u,"/item/").concat(t)).then((function(e){l(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(c.jsx)("div",{children:s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{style:{marginTop:"30px",maxHeight:"500px",objectFit:"contain",marginBottom:"20px"},children:Object(c.jsx)("div",{className:"itemDetail__img__container",children:Object(c.jsx)("img",{src:s.image,alt:"itemDetail__img",className:"itemDetail__img"})})}),Object(c.jsxs)(N.a,{text:!0,children:[s.user.location?Object(c.jsx)(y.a,{children:Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(I.a,{name:"map marker alternate"}),s.user.location]})})}):Object(c.jsx)(y.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(I.a,{name:"map marker alternate"}),Object(c.jsx)("span",{children:"No location provided"})]})}),Object(c.jsx)(M.a,{as:"h2",children:s.name}),Object(c.jsxs)(y.a,{children:[Object(c.jsxs)(y.a.Column,{floated:"left",width:5,children:[Object(c.jsxs)(_.b,{to:"/public/".concat(s.user._id),children:[Object(c.jsx)(J.a,{avatar:!0,circular:!0,src:s.user.imageProfile}),Object(c.jsx)("span",{children:s.user.username})]})," "]}),Object(c.jsx)(y.a.Column,{floated:"right",width:5,children:Object(c.jsx)("p",{children:s.condition})})]}),Object(c.jsx)("p",{className:"itemDetail__description",children:s.description}),Object(c.jsx)(N.a,{children:Object(c.jsx)(y.a,{columns:1,ui:!0,centered:!0,grid:!0,stackable:!0,children:Object(c.jsx)(y.a.Row,{children:Object(c.jsx)("div",{className:"itemDetail__btn",children:Object(c.jsxs)(w.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){t()},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"hand point left outline large"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Go Back"})]})})})})})]})]}):Object(c.jsx)("p",{children:"Loading"})})},te=n(251),ne=(n(92),function(e){var t=e.onSend;return Object(c.jsx)("div",{className:"inbox__messageForm",children:Object(c.jsxs)("form",{onSubmit:function(e){t(e)},className:"message__form",children:[Object(c.jsx)(q.a,{type:"text",name:"body",className:"inbox__messageForm__input"}),Object(c.jsx)(w.a,{type:"submit",className:"inbox__messageForm__btn",children:Object(c.jsx)(I.a,{name:"send"})})]})})}),ce=function(e){var t=e.loggedInUser,n=(e.onGoBack,e.onSend,e.initialChat),i=e.initialAccepted,s=e.selectedUser,l=Object(a.useState)(n),o=Object(g.a)(l,2),r=o[0],d=o[1],j=Object(a.useState)(null),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(a.useState)(null),_=Object(g.a)(O,2),p=(_[0],_[1],r||n),f=null==h?i:h;console.log(s);return Object(c.jsxs)("div",{children:[p?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"inbox__chatBox__header",children:[Object(c.jsx)(te.a,{divided:!0,relaxed:!0,style:{marginTop:"20px"},children:Object(c.jsxs)(te.a.Item,{children:[Object(c.jsx)(J.a,{avatar:!0,src:s.imageProfile}),Object(c.jsx)(te.a.Content,{children:Object(c.jsx)(te.a.Header,{as:"h3",children:s.username})})]})}),f?Object(c.jsxs)("div",{className:"inbox__chatBox__revoke",children:[Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",color:"google plus",onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/revoke"),{},{withCredentials:!0}).then((function(e){m(!1),console.log(e.data)}))},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"cancel"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Revoke"})]}),Object(c.jsx)("p",{children:"You accepted to exchange!"})]}):Object(c.jsx)("div",{children:Object(c.jsxs)(w.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/accept"),{},{withCredentials:!0}).then((function(e){m(!0),console.log(e.data)}))},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"check square outline"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Accept"})]})})]}),Object(c.jsx)("div",{className:"inbox__chatBox__container",children:p.map((function(e,n){return Object(c.jsx)(c.Fragment,{children:e.from._id==t._id?Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},className:"inbox__me",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n):Object(c.jsxs)("div",{className:"inbox__you",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n)})}))})]}):Object(c.jsx)("div",{className:"chat__noChat",children:Object(c.jsx)("p",{className:"chat__noChat__text",children:"Please select conversation"})}),Object(c.jsx)(ne,{onSend:function(e){e.preventDefault();var t=e.target.body;x.a.post("".concat(u,"/send/").concat(s._id),{body:t.value},{withCredentials:!0}).then((function(e){d(e.data),console.log(e.data)}))}})]})},ae=function(e){var t=e.loggedInUser,n=e.onSelectedUserMobile,i=e.onGoBack,s=Object(a.useState)([]),l=Object(g.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(null),j=Object(g.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(null),O=Object(g.a)(m,2),_=O[0],p=O[1],f=Object(a.useState)({}),v=Object(g.a)(f,2),C=v[0],N=v[1];Object(a.useEffect)((function(){x.a.get("".concat(u,"/inbox"),{withCredentials:!0}).then((function(e){console.log("This is messages request",e.data),console.log(e.data[0].from),r(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"inbox__container",children:[Object(c.jsx)("div",{className:"inbox__userList",children:Object(c.jsx)(y.a,{columns:1,children:Object(c.jsx)(y.a.Column,{width:16,children:Object(c.jsxs)(te.a,{divided:!0,relaxed:!0,size:"big",children:[Object(c.jsx)("div",{className:"inbox__header",children:Object(c.jsx)("button",{onClick:i,className:"inbox__btn",children:Object(c.jsx)("h2",{children:"Inbox"})})}),o.map((function(e,n){return Object(c.jsxs)(te.a.Item,{className:"inbox__fromList__user",children:[Object(c.jsx)(J.a,{avatar:!0,src:e.from.imageProfile}),Object(c.jsxs)(te.a.Content,{children:[Object(c.jsx)(te.a.Header,{as:"button",onClick:function(){var n;n=e.from._id,x.a.get("".concat(u,"/chat/").concat(n),{withCredentials:!0}).then((function(e){console.log("This is handleSelectUser",e.data[0].from),h(e.data),N(e.data[0].from._id==t._id?e.data[1].from:e.data[0].from),x.a.get("".concat(u,"/item/").concat(t.item._id),{withCredentials:!0}).then((function(e){p(e.data.accepted)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},className:"inbox__btn",children:Object(c.jsx)("p",{children:e.from.username})}),Object(c.jsx)(te.a.Description,{as:"a",children:Object(c.jsx)("p",{className:"inbox__userList__text",children:e.body})})]})]},n)}))]})})})}),Object(c.jsx)("div",{className:"inbox__chatBox",children:Object(c.jsx)(ce,{initialChat:b,initialAccepted:_,loggedInUser:t,selectedUser:C})})]}),Object(c.jsx)("div",{className:"inbox__mobile__container",children:Object(c.jsxs)(y.a,{centered:!0,columns:2,children:[Object(c.jsx)("div",{className:"inbox__mobile__header",children:Object(c.jsx)("button",{onClick:i,className:"inbox__btn",children:Object(c.jsx)("h1",{children:"Inbox"})})}),o.length?Object(c.jsx)(y.a.Column,{width:16,children:Object(c.jsx)(te.a,{divided:!0,relaxed:!0,size:"huge",children:o.map((function(e,t){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(te.a.Item,{className:"inbox__mobile__fromList",children:[Object(c.jsx)(J.a,{avatar:!0,src:e.from.imageProfile}),Object(c.jsxs)(te.a.Content,{className:"inbox__mobile__fromList__content",children:[Object(c.jsx)(te.a.Header,{as:"button",onClick:function(){n(e.from._id)},style:{textAlign:"left"},className:"inbox__mobile__btn",children:e.from.username}),Object(c.jsx)(te.a.Description,{as:"button",onClick:function(){n(e.from._id)},className:"inbox__mobile__btn",children:e.bodylength>=20?e.body.slice(0,20)+"...":e.body})]})]},t)})}))})}):Object(c.jsx)("h3",{className:"chat__noChat__text chat__noChat",children:"There's no message..."})]})})]})},ie=function(e){var t=e.loggedInUser,n=(e.onGoBack,e.initialChat),i=e.initialAccepted,s=e.selectedUser,l=Object(a.useState)(n),o=Object(g.a)(l,2),r=o[0],d=o[1],j=Object(a.useState)(null),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(a.useState)(null),_=Object(g.a)(O,2),p=_[0],f=_[1],v=Object(a.useState)(null),C=Object(g.a)(v,2),N=(C[0],C[1],r||n),y=null==h?i:h;console.log(s);return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"chat__mobile__container",children:[N?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"chat__mobile__header",children:[Object(c.jsx)(te.a,{divided:!0,relaxed:!0,style:{marginTop:"20px"},children:Object(c.jsx)(te.a.Item,{children:Object(c.jsx)(J.a,{avatar:!0,src:s?s.imageProfile:p.imageProfile,size:"tiny"})})}),y?Object(c.jsx)("div",{className:"inbox__chatBox__header__btn",children:Object(c.jsxs)(w.a,{animated:!0,type:"submit",color:"google plus",onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/revoke"),{},{withCredentials:!0}).then((function(e){m(!1),console.log(e.data)}))},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"cancel"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Revoke"})]})}):Object(c.jsx)("div",{className:"inbox__chatBox__header__btn",children:Object(c.jsxs)(w.a,{animated:!0,type:"submit",secondary:!0,onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/accept"),{},{withCredentials:!0}).then((function(e){m(!0),console.log(e.data)}))},children:[Object(c.jsx)(w.a.Content,{hidden:!0,children:Object(c.jsx)(I.a,{name:"check square outline"})}),Object(c.jsx)(w.a.Content,{visible:!0,children:"Accept"})]})})]}),Object(c.jsx)("div",{className:"inbox__chatBox__container",children:N.map((function(e,n){return Object(c.jsx)(c.Fragment,{children:e.from._id==t._id?Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},className:"inbox__me",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n):Object(c.jsxs)("div",{className:"inbox__you",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n)})}))})]}):Object(c.jsx)("div",{className:"chat__noChat",children:Object(c.jsx)("p",{className:"chat__noChat__text",children:"Please select conversation"})}),Object(c.jsx)(ne,{selectedUserId:s?s._id:p._id,onSend:function(e){e.preventDefault(),console.log(s);var t=e.target.body;x.a.post("".concat(u,"/send/").concat(s._id),{body:t.value},{withCredentials:!0}).then((function(e){f(s),d(e.data)}))}})]})})},se=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedInUser:null,errorMessage:null,items:[],cloneItems:[],chat:[],selectedUser:null,accepted:null},e.handleSignUp=function(t){t.preventDefault();var n=t.target,c=n.username,a=n.email,i=n.password;x.a.post("".concat(u,"/signup"),{username:c.value,email:a.value,password:i.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("user/create")}))})).catch((function(t){console.log(t.response.data.errorMessage),e.setState({errorMessage:t.response.data.errorMessage})}))},e.handleSignIn=function(t){t.preventDefault();var n=t.target,c=n.email,a=n.password;x.a.post("".concat(u,"/signin"),{email:c.value,password:a.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))})).catch((function(t){e.setState({errorMessage:t.response.data.error})}))},e.handleTestMode=function(t){t.preventDefault(),x.a.post("".concat(u,"/signin-test"),{},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))}))},e.handleLogOut=function(t){t.preventDefault(),x.a.post("".concat(u,"/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e.handleUnmount=function(){e.setState({errorMessage:null})},e.handleCleanError=function(t){e.setState({errorMessage:null})},e.handleEditProfile=function(t){t.preventDefault();var n=t.target,c=n.bio,a=n.location,i=n.imageProfile,s=n.imageBg,l=n.username,o=n.email,r=i.files[0],d=new FormData;d.append("imageUrl",r);var j=s.files[0],b=new FormData;b.append("imageUrl",j),x.a.post("".concat(u,"/upload"),d).then((function(t){x.a.post("".concat(u,"/upload"),b).then((function(n){var i={username:l?l.value:e.state.loggedInUser.username,email:o?o.value:e.state.loggedInUser.email,bio:c.value,location:a.value,imageProfile:t.data.image,imageBg:n.data.image};x.a.patch("".concat(u,"/user-edit"),i,{withCredentials:!0}).then((function(t){console.log(t.data),e.props.history.push("/user/".concat(e.state.loggedInUser._id))})).catch((function(t){e.setState({errorMessage:t.response.data.error})}))}))}))},e.handleCreateItem=function(t){t.preventDefault();var n=t.target,c=n.name,a=n.description,i=n.condition,s=n.image.files[0],l=new FormData;l.append("imageUrl",s),x.a.post("".concat(u,"/upload"),l).then((function(t){var n={name:c.value,description:a.value,condition:i.value,image:t.data.image};x.a.post("".concat(u,"/item-create"),n,{withCredentials:!0}).then((function(){x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var n=t.data;x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var c=t.data;e.setState({loggedInUser:c,items:n},(function(){e.props.history.push("/user/".concat(e.state.loggedInUser._id))}))}))}))})).catch((function(t){console.log(t.response.data.errorMessage),e.setState({errorMessage:t.response.data.errorMessage})}))}))},e.handleEditItem=function(t){t.preventDefault();var n=t.target,c=n.name,a=n.description,i=n.condition,s=n.image.files[0],l=new FormData;l.append("imageUrl",s),x.a.post("".concat(u,"/upload"),l).then((function(t){var n={name:c.value,description:a.value,condition:i.value,image:t.data.image};x.a.patch("".concat(u,"/item-edit"),n,{withCredentials:!0}).then((function(t){var n=t.data;x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var c=t.data;e.setState({loggedInUser:c,items:n},(function(){e.props.history.push("/user/".concat(e.state.loggedInUser._id))}))}))})).catch((function(e){console.log(e)}))}))},e.handleDeleteItem=function(t){x.a.delete("".concat(u,"/item-delete/").concat(t),{withCredentials:!0}).then((function(t){var n=t.data;x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var c=t.data;e.setState({loggedInUser:c,items:n},(function(){e.props.history.push("/user/".concat(e.state.loggedInUser._id))}))}))})).catch((function(e){console.log(e)}))},e.handleGoBack=function(){e.props.history.goBack()},e.handleQuickSearch=function(t){var n=t.target.value.toLowerCase(),c=e.state.items.filter((function(e){return e.name.toLowerCase().startsWith(n)}));e.setState({cloneItems:c})},e.handleSearch=function(t){t.preventDefault();var n=t.target.keyWord.value.toLowerCase();x.a.get("".concat(u,"/item-search/?q=").concat(n)).then((function(t){e.setState({cloneItems:t.data})}))},e.handleSelectUserMobile=function(t){x.a.get("".concat(u,"/chat/").concat(t),{withCredentials:!0}).then((function(n){e.setState({chat:n.data,selectedUser:n.data[0].from._id==e.state.loggedInUser._id?n.data[1].from:n.data[0].from}),x.a.get("".concat(u,"/item/").concat(e.state.loggedInUser.item._id),{withCredentials:!0}).then((function(n){e.setState({accepted:n.data.accepted},(function(){e.props.history.push("/mb/inbox/".concat(t))}))}))})).catch((function(e){console.log(e)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("".concat(u,"/items"),{withCredentials:!0}).then((function(t){console.log("This is items request",t.data),e.setState({items:t.data}),e.setState({cloneItems:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loggedInUser,a=t.errorMessage,i=t.items,s=t.cloneItems,l=t.selectedUser,r=t.accepted,d=t.chat;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(f,{loggedInUser:n,onLogOut:this.handleLogOut}),Object(c.jsxs)(h.d,{children:[Object(c.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(E,{})}}),Object(c.jsx)(h.b,{path:"/sign-up",render:function(t){return Object(c.jsx)(U,Object(o.a)(Object(o.a)({onSignUp:e.handleSignUp},t),{},{errorMessage:a,onUnmount:e.handleUnmount,onChange:e.handleCleanError}))}}),Object(c.jsx)(h.b,{path:"/sign-in",render:function(t){return Object(c.jsx)(B,Object(o.a)(Object(o.a)({onSignIn:e.handleSignIn},t),{},{errorMessage:a,onUnmount:e.handleUnmount,onChange:e.handleCleanError,onTest:e.handleTestMode}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/user/create",render:function(){return Object(c.jsx)(H,{loggedInUser:n,onEditProfile:e.handleEditProfile})}}),Object(c.jsx)(h.b,{exact:!0,path:"/user/edit",render:function(){return Object(c.jsx)(R,{loggedInUser:n,onUnmount:e.handleUnmount,onEditProfile:e.handleEditProfile,onGoBack:e.handleGoBack})}}),Object(c.jsx)(h.b,{exact:!0,path:"/user/:userId",render:function(t){return Object(c.jsx)(A,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/public/:userId",render:function(t){return Object(c.jsx)(G,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/upload-item",render:function(){return Object(c.jsx)(V,{loggedInUser:n,onCreateItem:e.handleCreateItem,onEditItem:e.handleEditItem,onDeleteItem:e.handleDeleteItem,onGoBack:e.handleGoBack})}}),Object(c.jsx)(h.b,{exact:!0,path:"/home",render:function(){return Object(c.jsx)(X,{loggedInUser:n,items:i})}}),Object(c.jsx)(h.b,{exact:!0,path:"/item-list",render:function(){return Object(c.jsx)($,{loggedInUser:n,items:s,onQuickSearch:e.handleQuickSearch,onSearch:e.handleSearch})}}),Object(c.jsx)(h.b,{exact:!0,path:"/item/:itemId",render:function(t){return Object(c.jsx)(ee,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/inbox",render:function(t){return Object(c.jsx)(ae,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack,onSelectedUserMobile:e.handleSelectUserMobile}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/inbox/:userId",render:function(t){return Object(c.jsx)(ce,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/mb/inbox/:userId",render:function(t){return Object(c.jsx)(ie,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack,initialChat:d,selectedUser:l,initialAccepted:r}))}})]})]})}}]),n}(a.Component),le=Object(h.g)(se),oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};n(228),n(229);l.a.render(Object(c.jsx)(_.a,{children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(le,{})})}),document.getElementById("root")),oe()},86:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[230,1,2]]]);
//# sourceMappingURL=main.641d855a.chunk.js.map