(this["webpackJsonpclient-from-everywhere"]=this["webpackJsonpclient-from-everywhere"]||[]).push([[0],{149:function(e,t,n){},179:function(e,t,n){},196:function(e,t,n){},216:function(e,t,n){},223:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n.n(a),s=n(44),l=n.n(s),o=(n(179),n(21)),r=n(95),d=n(96),j=n(121),b=n(116),h=n(14),m=n(10),x=n.n(m),u=(n(196),"https://from-everywhere.herokuapp.com/api"),O=n(11),g=n(8),_=n(129),p=n(232),f=n(255),v=n(246),C=n(28),N=n(29),y=(n(216),function(e){var t=e.loggedInUser,n=e.onLogOut,i=e.onSearch,s=Object(a.useState)(!1),l=Object(O.a)(s,2),o=l[0],r=l[1],d=function(){o||(r(!0),console.log(o))},j=function(){o&&(r(!1),console.log(o))};return Object(c.jsx)(c.Fragment,{children:t?Object(c.jsxs)(_.stack,{right:!0,isOpen:o,children:[Object(c.jsx)(g.b,{to:"/home",className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.c,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Home"})})]})}),Object(c.jsx)(g.b,{to:"/user/".concat(t._id),className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.f,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Account"})})]})}),Object(c.jsx)(g.b,{to:"/inbox",className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.b,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Inbox"})})]})}),Object(c.jsx)(g.b,{className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",onClick:function(){n(),d(),j()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.e,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Logout"})})]})}),Object(c.jsx)(f.a,{container:!0,columns:1,centered:!0,stackable:!0,className:"menu-item",children:Object(c.jsx)(f.a.Column,{children:Object(c.jsx)("form",{onSubmit:i,style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)(v.a,{name:"keyWord",type:"text",action:{icon:"search",type:"submit"},placeholder:"Search"})})})})]}):Object(c.jsxs)(_.stack,{right:!0,isOpen:o,children:[Object(c.jsx)(g.b,{to:"/",className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.c,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Home"})})]})}),Object(c.jsx)(g.b,{to:"/sign-up",className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",onClick:function(){d(),j()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.g,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Signup"})})]})}),Object(c.jsx)(g.b,{to:"/sign-in",className:"menu-item",onClick:function(){d(),j()},children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,id:"nav__btn",onClick:function(){d(),j()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.d,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:Object(c.jsx)("p",{className:"nav__btn__text",children:"Signin"})})]})})]})})}),k=n(83),w=n.n(k),I=n(247),S=n(250),U=n(254),B=(n(92),function(e){var t=e.onSignUp,n=e.onUnmount,i=e.errorMessage,s=Object(a.useState)(void 0),l=Object(O.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(void 0),j=Object(O.a)(d,2),b=j[0],h=j[1],m=Object(a.useRef)(w.a.debounce((function(e){!function(e){x.a.post("".concat(u,"/input-check/user"),{username:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isUser":r("isUser");break;default:console.log("Available")}}))}(e)}),1e3)),g=Object(a.useRef)(w.a.debounce((function(e){!function(e){console.log(e),x.a.post("".concat(u,"/input-check/email"),{email:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isEmail":h("isEmail");break;default:console.log("Available")}}))}(e)}),1e3));return Object(a.useEffect)((function(){o&&(r(o),m.current(o))}),[o]),Object(a.useEffect)((function(){b&&(h(b),g.current(b))}),[b]),Object(a.useEffect)((function(){return n}),[]),console.log(o,b),Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(I.a,{text:!0,children:Object(c.jsx)(f.a,{container:!0,children:Object(c.jsx)(f.a.Column,{children:Object(c.jsxs)(S.a,{onSubmit:t,className:"form__form",children:[Object(c.jsxs)(S.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{type:"text",name:"username",onChange:function(e){return r(e.target.value.toLowerCase())}})]}),""==o||void 0==o?"":"isUser"==o?Object(c.jsx)("p",{className:"form__alert",children:"Username is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Username available!"}),Object(c.jsxs)(S.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",onChange:function(e){return h(e.target.value.toLowerCase())}})]}),""==b||void 0==b?"":"isEmail"==b?Object(c.jsx)("p",{className:"form__alert",children:"Email is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Email available!"}),Object(c.jsxs)(S.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password"})]}),Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsxs)(p.a.Content,{hidden:!0,children:[Object(c.jsx)(C.a,{icon:N.g,color:"white"})," "]}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Sign up"})]}),i?Object(c.jsxs)(U.a,{negative:!0,children:[Object(c.jsx)(U.a.Header,{children:i}),Object(c.jsx)("p",{children:"Please try again."})]}):null]})})})})})}),F=n(45),D=function(e){var t=e.onSignIn,n=e.onUnmount,i=e.onChange,s=e.errorMessage,l=e.onTest;return Object(a.useEffect)((function(){return n}),[]),Object(c.jsx)("div",{className:"form__container",children:Object(c.jsxs)(I.a,{text:!0,children:[Object(c.jsx)(f.a,{container:!0,children:Object(c.jsxs)(f.a.Column,{children:[Object(c.jsxs)(S.a,{onSubmit:t,className:"form__form",children:[Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",onChange:i})]}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",onChange:i})]}),Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"sign-in"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Sign in"})]}),s?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(U.a,{negative:!0,children:[Object(c.jsx)(U.a.Header,{children:s}),Object(c.jsx)("p",{children:"Please try again."})]})}):null]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsxs)(p.a,{className:"form__button ",animated:!0,onClick:l,color:"linkedin",children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"wrench"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Test Mode"})]})})]})}),Object(c.jsx)("div",{className:"form__right",children:Object(c.jsx)(g.b,{to:"/sign-up",children:"Sign up?"})})]})})},E=n(159),M=n.n(E),P=(n(222),n(223),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"onLeave",value:function(e,t,n){console.log("Leaving section "+e.index)}},{key:"afterLoad",value:function(e,t,n){console.log("After load: "+t.index)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(c.jsx)(M.a,{scrollOverflow:!0,sectionsColor:["white","white","white"],onLeave:this.onLeave.bind(this),afterLoad:this.afterLoad.bind(this),render:function(e){e.state,e.fullpageApi;return Object(c.jsxs)("div",{id:"fullpage-wrapper",children:[Object(c.jsx)("div",{className:"section section1",children:Object(c.jsx)(I.a,{children:Object(c.jsxs)("div",{className:"sec1__container",children:[Object(c.jsx)("h1",{id:"sec1__header",children:"from everywhere"}),Object(c.jsxs)("div",{className:"sec1__content",children:[Object(c.jsxs)(f.a,{columns:2,container:!0,doubling:!0,stackable:!0,children:[Object(c.jsx)(f.a.Column,{width:10,style:{display:"flex",alignItems:"center"},children:Object(c.jsx)("p",{id:"sec1__header",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facere, quis dicta ipsa ipsam omnis nesciunt impedit quidem quibusdam est nemo? Natus, vel! Accusantium rerum quaerat voluptate quo, quos porro aperiam!"})}),Object(c.jsx)(f.a.Column,{width:3,children:Object(c.jsx)("img",{src:"https://res.cloudinary.com/djct87vbj/image/upload/v1605094483/original_cb6fc0b556c5151ccb1480c27f96a81c_wcreh2.jpg",alt:"landing__img01"})})]}),Object(c.jsx)("p",{className:"sec1__content__mb",children:"You can start from everywhere."})]})]})})}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(I.a,{children:Object(c.jsx)("div",{className:"sec2__container",children:Object(c.jsxs)("div",{className:"sec2__content",children:[Object(c.jsxs)(f.a,{columns:2,container:!0,doubling:!0,stackable:!0,children:[Object(c.jsx)(f.a.Column,{width:9,children:Object(c.jsx)("img",{src:"https://res.cloudinary.com/djct87vbj/image/upload/v1605097867/Snapseed_mewpfq.jpg",alt:"landing__img01"})}),Object(c.jsxs)(f.a.Column,{width:7,style:{display:"flex",flexDirection:"column",paddingTop:"100px"},id:"sec2__content__adjust",children:[Object(c.jsxs)("h2",{children:["Your thing may help others, ",Object(c.jsx)("br",{}),"you may also be helped by others."]}),Object(c.jsxs)("p",{children:['from everywhere is inspired by a Japanese folk tale called "The straw millionaire". ',Object(c.jsx)("br",{}),"Post your item that is not to be used anymore, and exchange it with others. ",Object(c.jsx)("br",{}),"Keep exchanging, you may get something you have never expected in the end."]})]})]}),Object(c.jsxs)("div",{className:"sec2__content__mb",children:[Object(c.jsxs)("h2",{children:["Your thing may help others, ",Object(c.jsx)("br",{}),"you may also be helped by others."]}),Object(c.jsxs)("p",{children:['from everywhere is inspired by a Japanese folk tale called "The straw millionaire". ',Object(c.jsx)("br",{}),"Post your item that is not to be used anymore, and exchange it with others. ",Object(c.jsx)("br",{}),"Keep exchanging, you may get something you have never expected in the end."]}),Object(c.jsx)("img",{src:"https://res.cloudinary.com/djct87vbj/image/upload/v1605097867/Snapseed_mewpfq.jpg",alt:"landing__img01",className:"sec2__content__mb"})]})]})})})}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(I.a,{children:Object(c.jsxs)(f.a,{centered:!0,columns:1,children:[Object(c.jsx)("div",{className:"sec3__container"}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__02.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Upload your item"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__03.svg",alt:"landing__img01",style:{height:"300px"}}),Object(c.jsx)("h3",{children:"Find item"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__04.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Send Message"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__05.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Matching"})]}),Object(c.jsxs)("div",{className:"slide sec3__content",children:[Object(c.jsx)("img",{src:"./images/landing__06.svg",alt:"landing__img01"}),Object(c.jsx)("h3",{children:"Wait for the item"})]})]})})}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(I.a,{children:Object(c.jsx)("div",{className:"sec4__container",children:Object(c.jsx)("div",{className:"sec4__content",children:Object(c.jsxs)(f.a,{columns:1,container:!0,doubling:!0,centered:!0,children:[Object(c.jsx)(f.a.Column,{textAlign:"center",children:Object(c.jsx)("h1",{children:"Start from everywhere"})}),Object(c.jsxs)("div",{className:"sec4__btns",children:[Object(c.jsx)(g.b,{to:"/sign-up",children:Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.g,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Sign up"})]})}),Object(c.jsx)(g.b,{to:"/sign-in",children:Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"sign-in"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Sign in"})]})})]})]})})})})})]})}})}}]),n}(i.a.Component)),L=n(256),A=n(249),G=n(251),T=(n(149),function(e){var t=e.loggedInUser,n=e.onGoBack,i=(e.onUpdate,Object(a.useState)(null)),s=Object(O.a)(i,2),l=s[0],o=s[1];Object(a.useEffect)((function(){x.a.get("".concat(u,"/user/").concat(t._id),{withCredentials:!0}).then((function(e){o(e.data)}))}),[]);var r={backgroundImage:l&&l.imageBg?"url(".concat(l.imageBg,")"):t.imageBg};return t?Object(c.jsx)("div",{children:l?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I.a,{style:{marginTop:"30px"},children:Object(c.jsx)("div",{className:"profile__bg",style:r,children:Object(c.jsx)(f.a,{container:!0,columns:1,stackable:!0,textAlign:"center",children:Object(c.jsxs)("div",{className:"profile__top",children:[Object(c.jsx)("img",{src:l.imageProfile,alt:"profile-image",className:"profile__photo"}),Object(c.jsx)(L.a,{as:"h1",className:"profile__top__header",children:l.username})]})})})}),Object(c.jsxs)(I.a,{text:!0,children:[l.location?Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(F.a,{name:"map marker alternate"}),l.location]})}),Object(c.jsx)(f.a.Column,{floated:"right",width:2,textAlign:"center",children:Object(c.jsx)(g.b,{to:"/user/edit",children:Object(c.jsx)(F.a,{name:"edit outline"})})})]}):Object(c.jsxs)(f.a.Column,{floated:"right",width:5,textAlign:"center",children:[Object(c.jsx)(f.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(F.a,{name:"map marker alternate"}),Object(c.jsx)("span",{children:"No location provided"})]})}),Object(c.jsx)(f.a.Column,{floated:"right",width:2,textAlign:"center",children:Object(c.jsx)(g.b,{to:"/user/edit",children:Object(c.jsx)(F.a,{name:"edit outline"})})})]}),Object(c.jsx)("p",{className:"itemDetail__description",children:l.bio}),Object(c.jsx)(I.a,{children:Object(c.jsx)(A.a,{})}),Object(c.jsx)("div",{className:"profile__item",children:l.item?Object(c.jsx)("div",{children:l&&l.item.accepted?Object(c.jsx)(I.a,{text:!0,children:Object(c.jsxs)("div",{className:"profile__itemStatus",children:[Object(c.jsx)("p",{children:"Have you received the item?"}),Object(c.jsx)(g.b,{to:"/upload-item",children:Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,style:{marginBottom:"10px"},onClick:function(){x.a.post("".concat(u,"/user/").concat(t._id,"/update-status"),{},{withCredentials:!0}).then((function(e){console.log(e.data)}))},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"check circle outline"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Yes"})]})})]})}):Object(c.jsx)(f.a,{columns:1,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsx)(G.a.Group,{divided:!0,children:Object(c.jsxs)(G.a,{children:[Object(c.jsx)(G.a.Image,{src:l.item.image,as:g.b,to:"/item/".concat(l.item._id)}),Object(c.jsxs)(G.a.Content,{children:[Object(c.jsx)(G.a.Header,{as:g.b,to:"/item/".concat(l.item._id),children:l.item.name}),Object(c.jsx)(G.a.Meta,{children:Object(c.jsx)(g.b,{to:"/upload-item",children:Object(c.jsx)(F.a,{name:"edit outline"})})}),Object(c.jsx)(G.a.Description,{children:l.item.description})]})]})})})})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(f.a,{columns:1,ui:!0,grid:!0,stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(c.jsx)("p",{children:"Please upload your item"}),Object(c.jsx)(g.b,{to:"/upload-item",children:Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,color:"linkedin",children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"cloud upload"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Upload"})]})})]})})})})})]}),Object(c.jsx)(f.a,{columns:1,ui:!0,centered:!0,grid:!0,stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsxs)("div",{className:"itemDetail__btn profile__btn__container",children:[Object(c.jsx)(g.b,{to:"/inbox",children:Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,style:{marginBottom:"10px"},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"mail outline large"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Inbox"})]})}),Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){n()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(C.a,{icon:N.a,color:"white"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Go Back"})]})]})})})]}):Object(c.jsx)("p",{children:"Loading"})}):Object(c.jsx)(h.a,{to:"/sign-in"})}),R=function(e){var t=e.loggedInUser,n=e.match,i=e.onGoBack,s=Object(a.useState)(null),l=Object(O.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(!1),j=Object(O.a)(d,2),b=j[0],m=j[1],_=n.params.userId;Object(a.useEffect)((function(){x.a.get("".concat(u,"/user/").concat(_)).then((function(e){r(e.data),console.log(e.data.item),e.data.item.hi&&e.data.item.hi.includes(t._id)&&m(!0)}))}),[]);var v=b?Object(c.jsx)("p",{className:"form__available",children:"Successfully sent"}):Object(c.jsx)("div",{className:"userPublic__btn__container",children:Object(c.jsxs)(p.a,{className:"profile__inbox goback ",animated:!0,secondary:!0,onClick:function(){!function(e){console.log(e),x.a.post("".concat(u,"/send-hi/").concat(e),{},{withCredentials:!0}).then((function(e){console.log("This is send hi",e.data),m(!0)})).catch((function(e){console.log(e)}))}(_)},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"send large"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Send Hi"})]})}),C={backgroundImage:o&&o.imageBg?"url(".concat(o.imageBg,")"):t.imageBg};return t?Object(c.jsx)("div",{children:o?o._id==t._id?Object(c.jsx)(h.a,{to:"/user/".concat(o._id)}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I.a,{style:{marginTop:"30px"},children:Object(c.jsx)("div",{className:"profile__bg ",style:C,children:Object(c.jsx)("div",{className:"profile__bg ",children:Object(c.jsx)(f.a,{container:!0,columns:1,stackable:!0,textAlign:"center",children:Object(c.jsxs)("div",{className:"profile__top",children:[Object(c.jsx)("img",{src:o.imageProfile,alt:"profile-image",className:"profile__photo"}),Object(c.jsx)(L.a,{as:"h1",className:"profile__top__header",children:o.username})]})})})})}),Object(c.jsxs)(I.a,{text:!0,children:[o.location?Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(F.a,{name:"map marker alternate"}),o.location]})})}):Object(c.jsx)(f.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(f.a.Column,{floated:"left",width:5,children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(F.a,{name:"map marker alternate"}),Object(c.jsx)("span",{children:"No location provided"})]})})}),Object(c.jsx)("p",{className:"itemDetail__description",children:o.bio}),Object(c.jsx)(I.a,{children:Object(c.jsx)(A.a,{})}),Object(c.jsx)("div",{children:o.item?Object(c.jsx)(f.a,{columns:1,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsx)(G.a.Group,{divided:!0,children:Object(c.jsxs)(G.a,{children:[Object(c.jsx)(G.a.Image,{src:o.item.image,as:g.b,to:"/item/".concat(o.item._id)}),Object(c.jsxs)(G.a.Content,{children:[Object(c.jsx)(G.a.Header,{as:g.b,to:"/item/".concat(o.item._id),children:o.item.name}),Object(c.jsx)(G.a.Description,{children:o.item.description})]})]})})})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("p",{children:"There's no item uploaded yet..."})})})]}),Object(c.jsx)(I.a,{children:Object(c.jsx)(f.a,{columns:1,ui:!0,centered:!0,grid:!0,stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsxs)("div",{className:"itemDetail__btn profile__btn__container",children:[o.item.accepted?Object(c.jsx)("p",{className:"form__alert",children:"Sorry the item no longer available..."}):v,Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){i()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"hand point left outline large"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Go Back"})]})]})})})})]}):Object(c.jsx)("p",{children:"Loading"})}):Object(c.jsx)(h.a,{to:"/sign-in"})},q=n(248),H=n(115),V=function(e){var t=e.onEditProfile,n=e.loggedInUser,i=Object(a.useState)(""),s=Object(O.a)(i,2),l=s[0],o=s[1];return n?Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(I.a,{text:!0,children:Object(c.jsx)(f.a,{container:!0,children:Object(c.jsxs)(f.a.Column,{children:[Object(c.jsxs)(S.a,{onSubmit:t,className:"form__upload",children:[Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Bio"}),Object(c.jsx)(q.a,{type:"text",name:"bio"})]}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Location"}),Object(c.jsx)(H.a,{name:"location",valueType:"short",value:l,onChange:function(e,t){var n=t.target,c=n.type,a=n.value,i="number"===c?parseFloat(a):a;o(i)},priorityOptions:["US","CA","DE","FR","CN","JP"],defaultOptionLabel:n.location})]}),Object(c.jsxs)(f.a,{container:!0,columns:2,stackable:!0,children:[Object(c.jsx)(f.a.Column,{children:Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Profile Image"}),Object(c.jsx)(v.a,{type:"file",name:"imageProfile"})]})}),Object(c.jsx)(f.a.Column,{children:Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Background Image"}),Object(c.jsx)(v.a,{type:"file",name:"imageBg"})]})})]}),Object(c.jsx)("div",{className:"itemDetail__btn profile__btn__container",children:Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"edit outline"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Proceed"})]})})]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsx)(g.b,{to:"/user/".concat(n),style:{width:"100%"},children:Object(c.jsxs)(p.a,{className:"form__button ",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"forward "})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Skip for now"})]})})})]})})})})}):Object(c.jsx)(h.a,{to:"/sign-in"})},J=function(e){var t=e.onEditProfile,n=e.loggedInUser,i=e.onUnmount,s=e.onGoBack,l=Object(a.useState)(void 0),o=Object(O.a)(l,2),r=o[0],d=o[1],j=Object(a.useState)(void 0),b=Object(O.a)(j,2),m=b[0],g=b[1],_=Object(a.useState)(""),C=Object(O.a)(_,2),N=C[0],y=C[1],k=Object(a.useRef)(w.a.debounce((function(e){!function(e){x.a.post("".concat(u,"/input-check/edit-user"),{username:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isUser":d("isUser");break;default:console.log("Available")}}))}(e)}),1e3)),U=Object(a.useRef)(w.a.debounce((function(e){!function(e){console.log(e),x.a.post("".concat(u,"/input-check/edit-email"),{email:e},{withCredentials:!0}).then((function(e){switch(e.data){case"isEmail":g("isEmail");break;default:console.log("Available")}}))}(e)}),1e3));return Object(a.useEffect)((function(){r&&(d(r),k.current(r))}),[r]),Object(a.useEffect)((function(){m&&(g(m),U.current(m))}),[m]),Object(a.useEffect)((function(){return i}),[]),n?Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(I.a,{text:!0,children:Object(c.jsx)(f.a,{container:!0,children:Object(c.jsxs)(f.a.Column,{children:[Object(c.jsxs)(S.a,{onSubmit:t,className:"form__editUser",children:[Object(c.jsxs)(S.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{type:"text",name:"username",defaultValue:n.username,onChange:function(e){return d(e.target.value.toLowerCase())}})]}),""==r||void 0==r?"":"isUser"==r?Object(c.jsx)("p",{className:"form__alert",children:"Username is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Username available!"}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",defaultValue:n.email,onChange:function(e){return g(e.target.value.toLowerCase())}})]}),""==m||void 0==m?"":"isEmail"==m?Object(c.jsx)("p",{className:"form__alert",children:"Email is unavailable, please choose another!"}):Object(c.jsx)("p",{className:"form__available",children:"Email available!"}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Bio"}),Object(c.jsx)(q.a,{type:"text",name:"bio",defaultValue:n.bio})]}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Location"}),Object(c.jsx)(H.a,{name:"location",valueType:"short",value:N,onChange:function(e,t){var n=t.target,c=n.type,a=n.value,i="number"===c?parseFloat(a):a;y(i)},priorityOptions:["US","CA","DE","FR","CN","JP"],defaultOptionLabel:n.location})]}),Object(c.jsxs)(f.a,{container:!0,columns:2,stackable:!0,children:[Object(c.jsx)(f.a.Column,{children:Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Profile Image"}),Object(c.jsx)(v.a,{type:"file",name:"imageProfile"})]})}),Object(c.jsx)(f.a.Column,{children:Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Background Image"}),Object(c.jsx)(v.a,{type:"file",name:"imageBg"})]})})]}),Object(c.jsx)("div",{className:"itemDetail__btn profile__btn__container",children:Object(c.jsxs)(p.a,{className:"form__button goback ",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"edit outline"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Update"})]})})]}),Object(c.jsx)("div",{className:"form__testMode__container goback",children:Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){s()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"hand point left outline large"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Go Back"})]})})]})})})})}):Object(c.jsx)(h.a,{to:"/sign-in"})},Q=(n(88),function(e){var t=e.loggedInUser,n=e.onCreateItem,a=e.onEditItem,i=e.onDeleteItem,s=e.onGoBack;return t?Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"form__container",children:Object(c.jsx)(I.a,{text:!0,children:Object(c.jsx)(f.a,{container:!0,children:Object(c.jsxs)(f.a.Column,{children:[Object(c.jsxs)(S.a,{onSubmit:t.item?a:n,className:"form__upload",children:[Object(c.jsxs)(S.a.Field,{required:!0,children:[Object(c.jsx)("label",{children:"Item Name"}),Object(c.jsx)("input",{type:"text",name:"name",defaultValue:t.item?t.item.name:null})]}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Description"}),Object(c.jsx)(q.a,{type:"text",name:"description",defaultValue:t.item?t.item.description:null})]}),Object(c.jsx)("label",{children:"Condition"}),Object(c.jsxs)(S.a.Field,{placeholder:"Select item's condition",control:"select",name:"condition",children:[Object(c.jsx)("option",{value:"Very good",children:"Very good"}),Object(c.jsx)("option",{value:"Normal",children:"Normal"}),Object(c.jsx)("option",{value:"So so",children:"So so"}),Object(c.jsx)("option",{value:"Damaged",children:"Damaged"})]}),Object(c.jsxs)(S.a.Field,{children:[Object(c.jsx)("label",{children:"Item Image"}),Object(c.jsx)(v.a,{type:"file",name:"image"})]}),Object(c.jsx)("div",{className:"itemDetail__btn profile__btn__container",children:Object(c.jsxs)(p.a,{className:"form__button goback ",animated:!0,type:"submit",secondary:!0,children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"edit outline"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Update"})]})})]}),Object(c.jsxs)("div",{className:"form__testMode__container goback",children:[Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){s()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"hand point left outline large"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Go Back"})]}),t.item?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,color:"google plus",onClick:function(){i(t.item._id)},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"trash alternate"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Delete"})]})}):null]})]})})})})}):Object(c.jsx)(h.a,{to:"/sign-in"})}),W=n(160),Y=function(e){var t=e.items,n=e.loggedInUser,i=Object(a.useState)([]),s=Object(O.a)(i,2),l=s[0],o=s[1];return Object(a.useEffect)((function(){for(var e,c,a=t.filter((function(e){return e.user._id!=n._id})),i=[],s=0;s<3;s++)i.push(a[(e=t.length-1,c=0,Math.floor(Math.random()*(e-c+1)+c))]);o(i)}),[]),console.log(t),Object(c.jsx)(c.Fragment,{children:t.length&&l.length?Object(c.jsx)(W.Carousel,{showArrows:!0,showStatus:!1,showThumbs:!1,thumbWidth:!1,infiniteLoop:!0,autoPlay:!0,children:l.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)(g.b,{to:"item/".concat(e._id),children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:e.image,alt:"random__item",className:"random__image"})}),Object(c.jsx)("p",{className:"legend",id:"random__text",children:e.name})]},e._id)})}))}):Object(c.jsx)("p",{children:"There's no item uploaded yet"})})},z=n(253),K=function(e){var t=e.items,n=e.loggedInUser,i=Object(a.useState)([]),s=Object(O.a)(i,2),l=s[0],o=s[1];return Object(a.useEffect)((function(){var e=t.sort((function(e,t){return e.updatedAt-t.updatedAt})).filter((function(e){return e.user._id!=n._id}));t.length>7?o(e.slice(0,6)):o(e)}),[]),Object(c.jsx)(c.Fragment,{children:t.length?Object(c.jsx)("div",{className:"items__container",children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(f.a,{columns:2,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Column,{floated:"left",width:5,textAlign:"left",children:Object(c.jsx)("h1",{children:"Latest Items"})}),Object(c.jsx)(f.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(g.b,{to:"/item-list",children:Object(c.jsx)(F.a,{name:"ellipsis horizontal large"})})})]})}),Object(c.jsx)(f.a,{container:!0,columns:3,doubling:!0,stackable:!0,children:l.map((function(e){return Object(c.jsx)(f.a.Column,{className:"latest__grid",as:g.b,to:"item/".concat(e._id),children:Object(c.jsxs)(z.a,{children:[Object(c.jsx)("img",{src:e.image,style:{width:"100%",height:"200px",objectFit:"cover"}}),Object(c.jsxs)(z.a.Content,{children:[Object(c.jsx)(z.a.Header,{children:e.name.length>=20?e.name.slice(0,20)+"...":e.name}),Object(c.jsx)(z.a.Meta,{children:e.user.username}),Object(c.jsx)(z.a.Description,{children:e.description.length>=70?e.description.slice(0,70)+"...":e.description})]}),Object(c.jsx)(z.a.Content,{extra:!0,children:Object(c.jsx)(g.b,{to:"item/".concat(e._id),children:"Read more"})})]},e._id)})}))})]})}):Object(c.jsx)("p",{children:"There's no item uploaded yet"})})},X=n(161),Z=function(e){var t=e.loggedInUser,n=e.items,i=Object(a.useState)([]),s=Object(O.a)(i,2),l=s[0],o=s[1];return Object(a.useEffect)((function(){var e=n.filter((function(e){return t.location==e.user.location&&e.user._id!=t._id}));n.length>4?o(e.slice(0,4)):o(e)}),[]),Object(c.jsx)(c.Fragment,{children:n.length?Object(c.jsxs)("div",{children:[Object(c.jsx)(I.a,{className:"location__header__container",children:Object(c.jsx)("h1",{className:"location__header",children:"Near to your place"})}),Object(c.jsx)(I.a,{text:!0,children:Object(c.jsx)(f.a,{columns:1,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsx)(G.a.Group,{divided:!0,children:l.map((function(e,t){return Object(c.jsx)(c.Fragment,{children:t%2?Object(c.jsxs)(G.a,{children:[Object(c.jsxs)(G.a.Content,{children:[Object(c.jsx)(G.a.Header,{as:g.b,to:"item/".concat(e._id),children:e.name}),Object(c.jsx)(G.a.Meta,{children:Object(c.jsx)("span",{children:e.user.location})}),Object(c.jsx)(G.a.Description,{children:e.description}),Object(c.jsx)(G.a.Extra,{children:Object(c.jsxs)(g.b,{to:"/public/".concat(e.user._id),children:[Object(c.jsx)(X.a,{avatar:!0,circular:!0,src:e.user.imageProfile}),e.user.username]})})]}),Object(c.jsx)(G.a.Image,{src:e.image,as:g.b,to:"item/".concat(e._id)})]}):Object(c.jsxs)(G.a,{children:[Object(c.jsx)(G.a.Image,{src:e.image,as:g.b,to:"item/".concat(e._id)}),Object(c.jsxs)(G.a.Content,{children:[Object(c.jsx)(G.a.Header,{as:g.b,to:"item/".concat(e._id),children:e.name}),Object(c.jsx)(G.a.Meta,{children:Object(c.jsx)("span",{children:e.user.location})}),Object(c.jsx)(G.a.Description,{children:e.description}),Object(c.jsx)(G.a.Extra,{children:Object(c.jsxs)(g.b,{to:"/public/".concat(e.user._id),children:[Object(c.jsx)(X.a,{avatar:!0,circular:!0,src:e.user.imageProfile}),e.user.username]})})]})]})})}))})})})})]}):Object(c.jsx)("p",{children:"There's no item uploaded yet"})})},$=function(e){var t=e.loggedInUser,n=e.items;return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I.a,{children:Object(c.jsx)(Y,{items:n,loggedInUser:t})}),Object(c.jsx)("div",{children:Object(c.jsx)(K,{items:n,loggedInUser:t})}),Object(c.jsx)(I.a,{children:Object(c.jsx)(A.a,{})}),Object(c.jsx)(I.a,{children:Object(c.jsx)(Z,{items:n,loggedInUser:t})})]}):Object(c.jsx)(h.a,{to:"/sign-in"})},ee=function(e){var t=e.onQuickSearch;return Object(c.jsx)(f.a,{container:!0,columns:1,relaxed:!0,stackable:!0,children:Object(c.jsx)(f.a.Column,{children:Object(c.jsx)("form",{children:Object(c.jsx)(v.a,{name:"keyWord",type:"text",placeholder:"Search",onChange:t,icon:{name:"search",circular:!0,link:!0,type:"submit"}})})})})},te=function(e){var t=e.items,n=e.onQuickSearch,a=e.onSearch;return e.loggedInUser?Object(c.jsxs)(I.a,{className:"itemList__container",children:[Object(c.jsx)(f.a,{columns:2,container:!0,divided:"vertically",stackable:!0,children:Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Column,{floated:"left",width:5,textAlign:"center",children:Object(c.jsx)("h1",{children:"All Items"})}),Object(c.jsx)(f.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsx)(ee,{onQuickSearch:n,onSearch:a})})]})}),Object(c.jsx)(f.a,{container:!0,columns:3,doubling:!0,stackable:!0,children:t.map((function(e){return Object(c.jsx)(f.a.Column,{className:"latest__grid",as:g.b,to:"item/".concat(e._id),children:Object(c.jsxs)(z.a,{children:[Object(c.jsx)("img",{src:e.image,style:{width:"100%",height:"200px",objectFit:"cover"}}),Object(c.jsxs)(z.a.Content,{children:[Object(c.jsx)(z.a.Header,{children:e.name.length>=20?e.name.slice(0,20)+"...":e.name}),Object(c.jsx)(z.a.Meta,{children:e.user.username}),Object(c.jsx)(z.a.Description,{children:e.description.length>=70?e.description.slice(0,70)+"...":e.description})]}),Object(c.jsx)(z.a.Content,{extra:!0,children:Object(c.jsx)(g.b,{to:"item/".concat(e._id),children:"Read more"})})]},e._id)})}))})]}):Object(c.jsx)(h.a,{to:"/sign-in"})},ne=function(e){var t=e.onGoBack,n=Object(a.useState)(null),i=Object(O.a)(n,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){var t=e.match.params.itemId;x.a.get("".concat(u,"/item/").concat(t)).then((function(e){l(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]),e.loggedInUser?Object(c.jsx)("div",{children:s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I.a,{style:{marginTop:"30px",maxHeight:"500px",objectFit:"contain",marginBottom:"20px"},children:Object(c.jsx)("div",{className:"itemDetail__img__container",children:Object(c.jsx)("img",{src:s.image,alt:"itemDetail__img",className:"itemDetail__img"})})}),Object(c.jsxs)(I.a,{text:!0,children:[s.user.location?Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(F.a,{name:"map marker alternate"}),s.user.location]})})}):Object(c.jsx)(f.a.Column,{floated:"right",width:5,textAlign:"center",children:Object(c.jsxs)("p",{className:"itemDetail__location",children:[Object(c.jsx)(F.a,{name:"map marker alternate"}),Object(c.jsx)("span",{children:"No location provided"})]})}),Object(c.jsx)(L.a,{as:"h2",children:s.name}),Object(c.jsxs)(f.a,{children:[Object(c.jsxs)(f.a.Column,{floated:"left",width:5,children:[Object(c.jsxs)(g.b,{to:"/public/".concat(s.user._id),children:[Object(c.jsx)(X.a,{avatar:!0,circular:!0,src:s.user.imageProfile}),Object(c.jsx)("span",{children:s.user.username})]})," "]}),Object(c.jsx)(f.a.Column,{floated:"right",width:5,children:Object(c.jsx)("p",{children:s.condition})})]}),Object(c.jsx)("p",{className:"itemDetail__description",children:s.description}),Object(c.jsx)(I.a,{children:Object(c.jsx)(f.a,{columns:1,ui:!0,centered:!0,grid:!0,stackable:!0,children:Object(c.jsx)(f.a.Row,{children:Object(c.jsx)("div",{className:"itemDetail__btn",children:Object(c.jsxs)(p.a,{className:"profile__inbox goback",animated:!0,secondary:!0,onClick:function(){t()},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"hand point left outline large"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Go Back"})]})})})})})]})]}):Object(c.jsx)("p",{children:"Loading"})}):Object(c.jsx)(h.a,{to:"/sign-in"})},ce=n(252),ae=(n(93),function(e){var t=e.onSend;return Object(c.jsx)("div",{className:"inbox__messageForm",children:Object(c.jsxs)("form",{onSubmit:function(e){t(e)},className:"message__form",children:[Object(c.jsx)(v.a,{type:"text",name:"body",className:"inbox__messageForm__input"}),Object(c.jsx)(p.a,{type:"submit",className:"inbox__messageForm__btn",children:Object(c.jsx)(F.a,{name:"send"})})]})})}),ie=function(e){var t=e.loggedInUser,n=(e.onGoBack,e.onSend,e.initialChat),i=e.initialAccepted,s=e.selectedUser,l=Object(a.useState)(n),o=Object(O.a)(l,2),r=o[0],d=o[1],j=Object(a.useState)(null),b=Object(O.a)(j,2),h=b[0],m=b[1],g=Object(a.useState)(null),_=Object(O.a)(g,2),f=(_[0],_[1],r||n),v=null==h?i:h;console.log(s);return Object(c.jsxs)("div",{children:[f?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"inbox__chatBox__header",children:[Object(c.jsx)(ce.a,{divided:!0,relaxed:!0,style:{marginTop:"20px"},children:Object(c.jsxs)(ce.a.Item,{children:[Object(c.jsx)(X.a,{avatar:!0,src:s.imageProfile}),Object(c.jsx)(ce.a.Content,{children:Object(c.jsx)(ce.a.Header,{as:"h3",children:s.username})})]})}),v?Object(c.jsxs)("div",{className:"inbox__chatBox__revoke",children:[Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",color:"google plus",onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/revoke"),{},{withCredentials:!0}).then((function(e){m(!1),console.log(e.data)}))},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"cancel"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Revoke"})]}),Object(c.jsx)("p",{children:"You accepted to exchange!"})]}):Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{className:"form__button goback",animated:!0,type:"submit",secondary:!0,onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/accept"),{},{withCredentials:!0}).then((function(e){m(!0),console.log(e.data)}))},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"handshake outline "})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Accept"})]})})]}),Object(c.jsx)("div",{className:"inbox__chatBox__container",children:f.map((function(e,n){return Object(c.jsx)(c.Fragment,{children:e.from._id==t._id?Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},className:"inbox__me",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n):Object(c.jsxs)("div",{className:"inbox__you",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n)})}))})]}):Object(c.jsx)("div",{className:"chat__noChat",children:Object(c.jsx)("p",{className:"chat__noChat__text",children:"Please select conversation"})}),Object(c.jsx)(ae,{onSend:function(e){e.preventDefault();var t=e.target.body;x.a.post("".concat(u,"/send/").concat(s._id),{body:t.value},{withCredentials:!0}).then((function(e){d(e.data),console.log(e.data)}))}})]})},se=function(e){var t=e.loggedInUser,n=e.onSelectedUserMobile,i=e.onGoBack,s=Object(a.useState)([]),l=Object(O.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(null),j=Object(O.a)(d,2),b=j[0],m=j[1],g=Object(a.useState)(null),_=Object(O.a)(g,2),p=_[0],v=_[1],C=Object(a.useState)({}),N=Object(O.a)(C,2),y=N[0],k=N[1];Object(a.useEffect)((function(){x.a.get("".concat(u,"/inbox"),{withCredentials:!0}).then((function(e){console.log("This is messages request",e.data),console.log(e.data[0].from),r(e.data)})).catch((function(e){console.log(e)}))}),[]);return t?Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"inbox__container",children:[Object(c.jsx)("div",{className:"inbox__userList",children:Object(c.jsx)(f.a,{columns:1,children:Object(c.jsx)(f.a.Column,{width:16,children:Object(c.jsxs)(ce.a,{divided:!0,relaxed:!0,size:"big",children:[Object(c.jsx)("div",{className:"inbox__header",children:Object(c.jsx)("button",{onClick:i,className:"inbox__btn",children:Object(c.jsx)("h2",{children:"Inbox"})})}),o.map((function(e,n){return Object(c.jsxs)(ce.a.Item,{className:"inbox__fromList__user",children:[Object(c.jsx)(X.a,{avatar:!0,src:e.from.imageProfile}),Object(c.jsxs)(ce.a.Content,{children:[Object(c.jsx)(ce.a.Header,{as:"button",onClick:function(){var n;n=e.from._id,x.a.get("".concat(u,"/chat/").concat(n),{withCredentials:!0}).then((function(e){console.log("This is handleSelectUser",e.data[0].from),m(e.data),k(e.data[0].from._id==t._id?e.data[1].from:e.data[0].from),x.a.get("".concat(u,"/item/").concat(t.item._id),{withCredentials:!0}).then((function(e){v(e.data.accepted)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},className:"inbox__btn",children:Object(c.jsx)("p",{children:e.from.username})}),Object(c.jsx)(ce.a.Description,{as:"a",children:Object(c.jsx)("p",{className:"inbox__userList__text",children:e.body})})]})]},n)}))]})})})}),Object(c.jsx)("div",{className:"inbox__chatBox",children:Object(c.jsx)(ie,{initialChat:b,initialAccepted:p,loggedInUser:t,selectedUser:y})})]}),Object(c.jsx)("div",{className:"inbox__mobile__container",children:Object(c.jsxs)(f.a,{centered:!0,columns:2,children:[Object(c.jsx)("div",{className:"inbox__mobile__header",children:Object(c.jsx)("button",{onClick:i,className:"inbox__btn",children:Object(c.jsx)("h1",{children:"Inbox"})})}),o.length?Object(c.jsx)(f.a.Column,{width:16,children:Object(c.jsx)(ce.a,{divided:!0,relaxed:!0,size:"huge",children:o.map((function(e,t){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(ce.a.Item,{className:"inbox__mobile__fromList",children:[Object(c.jsx)(X.a,{avatar:!0,src:e.from.imageProfile}),Object(c.jsxs)(ce.a.Content,{className:"inbox__mobile__fromList__content",children:[Object(c.jsx)(ce.a.Header,{as:"button",onClick:function(){n(e.from._id)},style:{textAlign:"left"},className:"inbox__mobile__btn",children:e.from.username}),Object(c.jsx)(ce.a.Description,{as:"button",onClick:function(){n(e.from._id)},className:"inbox__mobile__btn",children:e.bodylength>=20?e.body.slice(0,20)+"...":e.body})]})]},t)})}))})}):Object(c.jsx)("h3",{className:"chat__noChat__text chat__noChat",children:"There's no message..."})]})})]}):Object(c.jsx)(h.a,{to:"/sign-in"})},le=function(e){var t=e.loggedInUser,n=(e.onGoBack,e.initialChat),i=e.initialAccepted,s=e.selectedUser,l=Object(a.useState)(n),o=Object(O.a)(l,2),r=o[0],d=o[1],j=Object(a.useState)(null),b=Object(O.a)(j,2),m=b[0],g=b[1],_=Object(a.useState)(null),f=Object(O.a)(_,2),v=f[0],C=f[1],N=Object(a.useState)(null),y=Object(O.a)(N,2),k=(y[0],y[1],r||n),w=null==m?i:m;console.log(s);return t?Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"chat__mobile__container",children:[k?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"chat__mobile__header",children:[Object(c.jsx)(ce.a,{divided:!0,relaxed:!0,style:{marginTop:"20px"},children:Object(c.jsx)(ce.a.Item,{children:Object(c.jsx)(X.a,{avatar:!0,src:s?s.imageProfile:v.imageProfile,size:"tiny"})})}),w?Object(c.jsx)("div",{className:"inbox__chatBox__header__btn",children:Object(c.jsxs)(p.a,{animated:!0,type:"submit",color:"google plus",onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/revoke"),{},{withCredentials:!0}).then((function(e){g(!1),console.log(e.data)}))},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"cancel"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Revoke"})]})}):Object(c.jsx)("div",{className:"inbox__chatBox__header__btn",children:Object(c.jsxs)(p.a,{animated:!0,type:"submit",secondary:!0,onClick:function(){var e;e=s._id,x.a.post("".concat(u,"/item/").concat(e,"/accept"),{},{withCredentials:!0}).then((function(e){g(!0),console.log(e.data)}))},children:[Object(c.jsx)(p.a.Content,{hidden:!0,children:Object(c.jsx)(F.a,{name:"handshake outline"})}),Object(c.jsx)(p.a.Content,{visible:!0,children:"Accept"})]})})]}),Object(c.jsx)("div",{className:"inbox__chatBox__container",children:k.map((function(e,n){return Object(c.jsx)(c.Fragment,{children:e.from._id==t._id?Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},className:"inbox__me",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n):Object(c.jsxs)("div",{className:"inbox__you",children:[Object(c.jsx)("div",{className:"inbox__entete",children:Object(c.jsx)("h2",{children:e.from.username})}),Object(c.jsx)("div",{className:"inbox__triangle"}),Object(c.jsx)("p",{className:"inbox__text",children:e.body})]},e._id+n)})}))})]}):Object(c.jsx)("div",{className:"chat__noChat",children:Object(c.jsx)("p",{className:"chat__noChat__text",children:"Please select conversation"})}),Object(c.jsx)(ae,{selectedUserId:s?s._id:v._id,onSend:function(e){e.preventDefault(),console.log(s);var t=e.target.body;x.a.post("".concat(u,"/send/").concat(s._id),{body:t.value},{withCredentials:!0}).then((function(e){C(s),d(e.data)}))}})]})}):Object(c.jsx)(h.a,{to:"/sign-in"})},oe=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedInUser:null,errorMessage:null,items:[],cloneItems:[],chat:[],selectedUser:null,accepted:null},e.handleSignUp=function(t){t.preventDefault();var n=t.target,c=n.username,a=n.email,i=n.password;x.a.post("".concat(u,"/signup"),{username:c.value,email:a.value,password:i.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("user/create")}))})).catch((function(t){console.log(t.response.data.errorMessage),e.setState({errorMessage:t.response.data.errorMessage})}))},e.handleSignIn=function(t){t.preventDefault();var n=t.target,c=n.email,a=n.password;x.a.post("".concat(u,"/signin"),{email:c.value,password:a.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))})).catch((function(t){e.setState({errorMessage:t.response.data.error})}))},e.handleTestMode=function(t){t.preventDefault(),x.a.post("".concat(u,"/signin-test"),{},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))}))},e.handleLogOut=function(t){x.a.post("".concat(u,"/logout"),{},{withCredentials:!0}).then((function(){console.log("logout",e.props.history.push),e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e.handleUnmount=function(){e.setState({errorMessage:null})},e.handleCleanError=function(t){e.setState({errorMessage:null})},e.handleEditProfile=function(t){t.preventDefault();var n=t.target,c=n.bio,a=n.location,i=n.imageProfile,s=n.imageBg,l=n.username,o=n.email;console.log(a.value);var r=i.files[0],d=new FormData;d.append("imageUrl",r);var j=s.files[0],b=new FormData;b.append("imageUrl",j),x.a.post("".concat(u,"/upload"),d).then((function(t){x.a.post("".concat(u,"/upload"),b).then((function(n){var i={username:l?l.value:e.state.loggedInUser.username,email:o?o.value:e.state.loggedInUser.email,bio:c.value,location:a.value,imageProfile:t.data.image,imageBg:n.data.image};x.a.patch("".concat(u,"/user-edit"),i,{withCredentials:!0}).then((function(t){console.log(t.data),e.props.history.push("/user/".concat(e.state.loggedInUser._id))})).catch((function(t){e.setState({errorMessage:t.response.data.error})}))}))}))},e.handleCreateItem=function(t){t.preventDefault();var n=t.target,c=n.name,a=n.description,i=n.condition,s=n.image.files[0],l=new FormData;l.append("imageUrl",s),x.a.post("".concat(u,"/upload"),l).then((function(t){var n={name:c.value,description:a.value,condition:i.value,image:t.data.image};x.a.post("".concat(u,"/item-create"),n,{withCredentials:!0}).then((function(){x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var n=t.data;x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var c=t.data;e.setState({loggedInUser:c,items:n},(function(){e.props.history.push("/user/".concat(e.state.loggedInUser._id))}))}))}))})).catch((function(t){console.log(t.response.data.errorMessage),e.setState({errorMessage:t.response.data.errorMessage})}))}))},e.handleEditItem=function(t){t.preventDefault();var n=t.target,c=n.name,a=n.description,i=n.condition,s=n.image.files[0],l=new FormData;l.append("imageUrl",s),x.a.post("".concat(u,"/upload"),l).then((function(t){var n={name:c.value,description:a.value,condition:i.value,image:t.data.image};x.a.patch("".concat(u,"/item-edit"),n,{withCredentials:!0}).then((function(t){var n=t.data;x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var c=t.data;e.setState({loggedInUser:c,items:n},(function(){e.props.history.push("/user/".concat(e.state.loggedInUser._id))}))}))})).catch((function(e){console.log(e)}))}))},e.handleDeleteItem=function(t){x.a.delete("".concat(u,"/item-delete/").concat(t),{withCredentials:!0}).then((function(t){var n=t.data;x.a.get("".concat(u,"/user/").concat(e.state.loggedInUser._id),{withCredentials:!0}).then((function(t){var c=t.data;e.setState({loggedInUser:c,items:n},(function(){e.props.history.push("/user/".concat(e.state.loggedInUser._id))}))}))})).catch((function(e){console.log(e)}))},e.handleGoBack=function(){e.props.history.goBack()},e.handleQuickSearch=function(t){var n=t.target.value.toLowerCase(),c=e.state.items.filter((function(e){return e.name.toLowerCase().startsWith(n)}));e.setState({cloneItems:c})},e.handleSearch=function(t){t.preventDefault();var n=t.target.keyWord.value.toLowerCase();x.a.get("".concat(u,"/item-search/?q=").concat(n)).then((function(t){e.setState({cloneItems:t.data},(function(){e.props.history.push("/item-list")}))}))},e.handleSelectUserMobile=function(t){x.a.get("".concat(u,"/chat/").concat(t),{withCredentials:!0}).then((function(n){e.setState({chat:n.data,selectedUser:n.data[0].from._id==e.state.loggedInUser._id?n.data[1].from:n.data[0].from}),x.a.get("".concat(u,"/item/").concat(e.state.loggedInUser.item._id),{withCredentials:!0}).then((function(n){e.setState({accepted:n.data.accepted},(function(){e.props.history.push("/mb/inbox/".concat(t))}))}))})).catch((function(e){console.log(e)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("".concat(u,"/items"),{withCredentials:!0}).then((function(t){console.log("This is items request",t.data),e.setState({items:t.data}),e.setState({cloneItems:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loggedInUser,a=t.errorMessage,i=t.items,s=t.cloneItems,l=t.selectedUser,r=t.accepted,d=t.chat;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(y,{loggedInUser:n,onLogOut:this.handleLogOut,onSearch:this.handleSearch}),Object(c.jsxs)(h.d,{children:[Object(c.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(P,{})}}),Object(c.jsx)(h.b,{path:"/sign-up",render:function(t){return Object(c.jsx)(B,Object(o.a)(Object(o.a)({onSignUp:e.handleSignUp},t),{},{errorMessage:a,onUnmount:e.handleUnmount,onChange:e.handleCleanError}))}}),Object(c.jsx)(h.b,{path:"/sign-in",render:function(t){return Object(c.jsx)(D,Object(o.a)(Object(o.a)({onSignIn:e.handleSignIn},t),{},{errorMessage:a,onUnmount:e.handleUnmount,onChange:e.handleCleanError,onTest:e.handleTestMode}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/user/create",render:function(){return Object(c.jsx)(V,{loggedInUser:n,onEditProfile:e.handleEditProfile})}}),Object(c.jsx)(h.b,{exact:!0,path:"/user/edit",render:function(){return Object(c.jsx)(J,{loggedInUser:n,onUnmount:e.handleUnmount,onEditProfile:e.handleEditProfile,onGoBack:e.handleGoBack})}}),Object(c.jsx)(h.b,{exact:!0,path:"/user/:userId",render:function(t){return Object(c.jsx)(T,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/public/:userId",render:function(t){return Object(c.jsx)(R,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/upload-item",render:function(){return Object(c.jsx)(Q,{loggedInUser:n,onCreateItem:e.handleCreateItem,onEditItem:e.handleEditItem,onDeleteItem:e.handleDeleteItem,onGoBack:e.handleGoBack})}}),Object(c.jsx)(h.b,{exact:!0,path:"/home",render:function(){return Object(c.jsx)($,{loggedInUser:n,items:i})}}),Object(c.jsx)(h.b,{exact:!0,path:"/item-list",render:function(){return Object(c.jsx)(te,{loggedInUser:n,items:s,onQuickSearch:e.handleQuickSearch})}}),Object(c.jsx)(h.b,{exact:!0,path:"/item/:itemId",render:function(t){return Object(c.jsx)(ne,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/inbox",render:function(t){return Object(c.jsx)(se,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack,onSelectedUserMobile:e.handleSelectUserMobile}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/inbox/:userId",render:function(t){return Object(c.jsx)(ie,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack}))}}),Object(c.jsx)(h.b,{exact:!0,path:"/mb/inbox/:userId",render:function(t){return Object(c.jsx)(le,Object(o.a)(Object(o.a)({loggedInUser:n},t),{},{onGoBack:e.handleGoBack,initialChat:d,selectedUser:l,initialAccepted:r}))}})]})]})}}]),n}(a.Component),re=Object(h.g)(oe),de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,257)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};n(229),n(230);l.a.render(Object(c.jsx)(g.a,{children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(re,{})})}),document.getElementById("root")),de()},88:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}},[[231,1,2]]]);
//# sourceMappingURL=main.cbd199ca.chunk.js.map